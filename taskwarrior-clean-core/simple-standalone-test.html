<!DOCTYPE html>
<html>
<head>
    <title>Taskwarrior Standalone Test</title>
</head>
<body>
    <h1>Taskwarrior Standalone Controller Test</h1>
    <button onclick="test()">Run Test</button>
    <pre id="output"></pre>
    
    <script type="module">
        import { TaskController } from './standalone-controller.js';
        
        async function test() {
            const output = document.getElementById('output');
            output.textContent = 'Starting test...\\n';
            
            try {
                const controller = new TaskController();
                output.textContent += 'Controller created\\n';
                
                // Test cmd()
                const result = await controller.cmd('add', 'Buy milk due:tomorrow');
                output.textContent += `cmd() result: ${result}\\n`;
                
                // Test filterSimple()
                const tasks = await controller.filterSimple('pending');
                output.textContent += `Loaded ${tasks.length} tasks:\\n`;
                tasks.forEach(task => {
                    output.textContent += `  - ${task.id}: ${task.description}\\n`;
                });
                
                output.textContent += '\\n✅ SUCCESS! Core API works.';
                
            } catch (error) {
                output.textContent += `\\n❌ ERROR: ${error.message}\\n`;
                output.textContent += error.stack;
            }
        }
    </script>
</body>
</html>
